<!DOCTYPE html>
<html lang="en">
   <head>
      <meta charset="UTF-8" />
      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <meta http-equiv="X-UA-Compatible" content="ie=edge" />
      <title>Document</title>
      <script src="https://static.line-scdn.net/liff/edge/2.1/sdk.js"></script>
   </head>

   <body>
      <p>liff-app</p>
      <button class="btnLogin">login</button>

      <script>
         let btnLogin = document.querySelector('.btnLogin');

         function initializeApp() {
            if (!liff.isLoggedIn()) {
               alert('not login')
               liff.login({ redirectUri: 'page.html' });
            } else {
               let result = liff.getContext();
               alert(result);
            }
         }


         function initializeLiff(myLiffId) {
            liff.init({
                  liffId: '1653839303-x2RKROGO'
               })
               .then(() => {
                  btnLogin.addEventListener('click', initializeApp);
               })
               .catch(err => {
                  alert(err.message)
               });
         }


         initializeLiff()
      </script>
   </body>
</html>
