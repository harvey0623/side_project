<!DOCTYPE html>
<html lang="en">

<head>
	<title>消費紀錄</title>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<link rel="icon" href="" type="image/jpg" sizes="16x16">
	<link rel="stylesheet" href="./lib/fontIcon/css/all.min.css">
	<link rel='stylesheet' href='./lib/bs4/bootstrap.min.css'/>
	<link rel="stylesheet" href="./css/main.css">
	<link rel="stylesheet" href="./css/L4.3_00_01_00.css">
	<script src='./lib/jquery/jquery.min.js'></script>
	<script src='./lib/bs4/bootstrap.bundle.min.js'></script>
	<script src="./js/src/setColor.js"></script>
</head>

<body>
	<div class="container">
		<div class="row">
			<div class="header">
				<div class="topBar">
					<div class="listMode d-flex">
						<div class="mode1Btn btn btn-sm active"><i class="fas fa-th-large"></i></div>
						<div class="mode2Btn btn btn-sm"><i class="fas fa-th-list"></i></div>
					</div>
					<div class="btnGroup">
						<div class="filterBtn btn btn-link">篩選 <span class="badge badge-pill badge-primary">12</span></div>
					</div>
				</div>
				<div class="menuSlide">
					<div class="btnGroup">
						<div class="mBtn btn active">全部類別</div>
						<div class="mBtn btn">最新公告</div>
						<div class="mBtn btn">門市開幕</div>
						<div class="mBtn btn">新品上市</div>
						<div class="mBtn btn">近期預告</div>
					</div>
				</div>
			</div>

			<div class="content mode1">
				<div class="card" data-toggle="modal" data-target="#outlinkModal">
					<div class="card-body">
						<img src="img/img_friend_invitationcode_bg_n.png">
					</div>
					<div class="card-footer">
						<div class="date">2020/06/04</div>
						<div class="title">GK Cafe 週年慶活動</div>
						<div class="serviceKind">
							<div class="icon"><img src="https://hips.hearstapps.com/hmg-prod.s3.amazonaws.com/images/ml2ml4m-1589433316.jpg?crop=0.503xw:1.00xh;0,0&amp;resize=640:*" src="https://hips.hearstapps.com/hmg-prod.s3.amazonaws.com/images/ml2ml4m-1589433316.jpg?crop=0.503xw:1.00xh;0,0&amp;resize=640:*"></div>
							<div class="name">GK Cafe</div>
						</div>
					</div>
				</div>
				<div class="card">
					<div class="card-body">
						<img src="https://hips.hearstapps.com/hmg-prod.s3.amazonaws.com/images/ml2ml4m-1589433316.jpg?crop=0.503xw:1.00xh;0,0&amp;resize=640:*" src="https://hips.hearstapps.com/hmg-prod.s3.amazonaws.com/images/ml2ml4m-1589433316.jpg?crop=0.503xw:1.00xh;0,0&amp;resize=640:*">
					</div>
					<div class="card-footer">
						<div class="date">2020/06/04</div>
						<div class="title">GK Cafe 週年慶活動</div>
						<div class="serviceKind">
							<div class="icon"><img src="https://hips.hearstapps.com/hmg-prod.s3.amazonaws.com/images/ml2ml4m-1589433316.jpg?crop=0.503xw:1.00xh;0,0&amp;resize=640:*" src="https://hips.hearstapps.com/hmg-prod.s3.amazonaws.com/images/ml2ml4m-1589433316.jpg?crop=0.503xw:1.00xh;0,0&amp;resize=640:*"></div>
							<div class="name">GK Cafe</div>
						</div>
					</div>
				</div>
				<div class="card">
					<div class="card-body">
						<img src="https://hips.hearstapps.com/hmg-prod.s3.amazonaws.com/images/ml2ml4m-1589433316.jpg?crop=0.503xw:1.00xh;0,0&amp;resize=640:*" src="https://hips.hearstapps.com/hmg-prod.s3.amazonaws.com/images/ml2ml4m-1589433316.jpg?crop=0.503xw:1.00xh;0,0&amp;resize=640:*">
					</div>
					<div class="card-footer">
						<div class="date">2020/06/04</div>
						<div class="title">GK Cafe 週年慶活動</div>
						<div class="serviceKind">
							<div class="icon"><img src="https://hips.hearstapps.com/hmg-prod.s3.amazonaws.com/images/ml2ml4m-1589433316.jpg?crop=0.503xw:1.00xh;0,0&amp;resize=640:*" src="https://hips.hearstapps.com/hmg-prod.s3.amazonaws.com/images/ml2ml4m-1589433316.jpg?crop=0.503xw:1.00xh;0,0&amp;resize=640:*"></div>
							<div class="name">GK Cafe</div>
						</div>
					</div>
				</div>
				<div class="card">
					<div class="card-body">
						<img src="https://hips.hearstapps.com/hmg-prod.s3.amazonaws.com/images/ml2ml4m-1589433316.jpg?crop=0.503xw:1.00xh;0,0&amp;resize=640:*" src="https://hips.hearstapps.com/hmg-prod.s3.amazonaws.com/images/ml2ml4m-1589433316.jpg?crop=0.503xw:1.00xh;0,0&amp;resize=640:*">
					</div>
					<div class="card-footer mode2">
						<div class="date">2020/06/04</div>
						<div class="title">GK Cafe 週年慶活動</div>
						<div class="serviceKind">
							<div class="icon"><img src="https://hips.hearstapps.com/hmg-prod.s3.amazonaws.com/images/ml2ml4m-1589433316.jpg?crop=0.503xw:1.00xh;0,0&amp;resize=640:*" src="https://hips.hearstapps.com/hmg-prod.s3.amazonaws.com/images/ml2ml4m-1589433316.jpg?crop=0.503xw:1.00xh;0,0&amp;resize=640:*"></div>
							<div class="name">GK Cafe</div>
						</div>
					</div>
				</div>

				<p class="tipBox my-4 center">已經到最底層囉~</p>

				<!-- <div class="emptyBox"></div>
				<p class="tipBox center">您目前還沒有消費紀錄哦！</p> -->

			</div>
		</div>

		<div id="maskCover" class=""></div>
		<div id="sidebar" class="">
			<div class="sidebarPanel">
				<div class="empty"></div>
				<div class="seekText font-weight-bold">篩選</div>
				<div class="sureText">確定</div>
			</div>
			<ul class="sidebarFilter">
				<li class="chooseBrand" onclick="sidebarShow('.sidebarPage.sort',true);">
					<div class="filterTitle">選擇品牌</div>
					<div class="dateOuter">全部
						<div class="arrowBox"></div>
					</div>
				</li>
				<li onclick="sidebarShow('.sidebarPage.brand',true);">
					<div class="filterTitle">選擇分類</div>
					<div class="dateOuter">全部
						<div class="arrowBox"></div>
					</div>
				</li>
				<li>
					<div class="filterTitle">瀏覽模式</div>
					<div class="btnGroup d-flex">
						<div class="mode1Btn btn btn-sm active"><i class="fas fa-th-large"></i></div>
						<div class="mode2Btn btn btn-sm"><i class="fas fa-th-list"></i></div>
					</div>
				</li>
			</ul>
		</div>

		<div class="sidebarPage sort">
			<div class="sidebarPanel">
				<div class="empty btn-link">取消</div>
				<div class="seekText font-weight-bold">篩選</div>
				<div class="sureText">確定</div>
			</div>
			<ul class="sidebarFilter">
				<li class="border-0">
					<div class="btn btn-link p-0" onclick="allCheck('sort');">全部清除</div>
					<div class="btn btn-link p-0" onclick="allCheckClear('sort');">全部勾選</div>
				</li>
				<li>
					<div class="serviceKind">
						<div class="icon"><img src="https://hips.hearstapps.com/hmg-prod.s3.amazonaws.com/images/ml2ml4m-1589433316.jpg?crop=0.503xw:1.00xh;0,0&amp;resize=640:*" src="https://hips.hearstapps.com/hmg-prod.s3.amazonaws.com/images/ml2ml4m-1589433316.jpg?crop=0.503xw:1.00xh;0,0&amp;resize=640:*"></div>
						<div class="name">GK Cafe</div>
					</div>
					<div class="checkCircle checked">
						<div class="icon"><i class="fas fa-check-circle"></i></div>
						<div class="bg"><i class="fal fa-plus-circle"></i></div>
					</div>
				</li>
				<li>
					<div class="serviceKind">
						<div class="icon"><img src="https://hips.hearstapps.com/hmg-prod.s3.amazonaws.com/images/ml2ml4m-1589433316.jpg?crop=0.503xw:1.00xh;0,0&amp;resize=640:*" src="https://hips.hearstapps.com/hmg-prod.s3.amazonaws.com/images/ml2ml4m-1589433316.jpg?crop=0.503xw:1.00xh;0,0&amp;resize=640:*"></div>
						<div class="name">GK Pizza</div>
					</div>
					<div class="checkCircle checked">
						<div class="icon"><i class="fas fa-check-circle"></i></div>
						<div class="bg"><i class="fal fa-plus-circle"></i></div>
					</div>
				</li>
				<li>
					<div class="serviceKind">
						<div class="icon"><img src="https://hips.hearstapps.com/hmg-prod.s3.amazonaws.com/images/ml2ml4m-1589433316.jpg?crop=0.503xw:1.00xh;0,0&amp;resize=640:*" src="https://hips.hearstapps.com/hmg-prod.s3.amazonaws.com/images/ml2ml4m-1589433316.jpg?crop=0.503xw:1.00xh;0,0&amp;resize=640:*"></div>
						<div class="name">GK Bar</div>
					</div>
					<div class="checkCircle checked">
						<div class="icon"><i class="fas fa-check-circle"></i></div>
						<div class="bg"><i class="fal fa-plus-circle"></i></div>
					</div> 
				</li>
				<li>
					<div class="serviceKind">
						<div class="icon"><img src="https://hips.hearstapps.com/hmg-prod.s3.amazonaws.com/images/ml2ml4m-1589433316.jpg?crop=0.503xw:1.00xh;0,0&amp;resize=640:*" src="https://hips.hearstapps.com/hmg-prod.s3.amazonaws.com/images/ml2ml4m-1589433316.jpg?crop=0.503xw:1.00xh;0,0&amp;resize=640:*"></div>
						<div class="name">GK Tea</div>
					</div>
					<div class="checkCircle checked">
						<div class="icon"><i class="fas fa-check-circle"></i></div>
						<div class="bg"><i class="fal fa-plus-circle"></i></div>
					</div>
				</li>
			</ul>
		</div>
 
		<div class="sidebarPage brand">
			<div class="sidebarPanel">
				<div class="empty btn-link">取消</div>
				<div class="seekText">篩選</div>
				<div class="sureText">確定</div>
			</div>
			<ul class="sidebarFilter">
				<li class="border-0">
					<div class="btn btn-link p-0" onclick="allCheck('brand');">全部清除</div>
					<div class="btn btn-link p-0" onclick="allCheckClear('brand');">全部勾選</div>
				</li>
				<li>
					<div class="serviceKind">
						<div class="name">熱門活動</div>
					</div>
					<div class="checkCircle checked">
						<div class="icon"><i class="fas fa-check-circle"></i></div>
						<div class="bg"><i class="fal fa-plus-circle"></i></div>
					</div>
				</li>
				<li>
					<div class="serviceKind">
						<div class="name">最新公告</div>
					</div>
					<div class="checkCircle checked">
						<div class="icon"><i class="fas fa-check-circle"></i></div>
						<div class="bg"><i class="fal fa-plus-circle"></i></div>
					</div>
				</li>
				<li>
					<div class="serviceKind">
						<div class="name">門市開幕</div>
					</div>
					<div class="checkCircle checked">
						<div class="icon"><i class="fas fa-check-circle"></i></div>
						<div class="bg"><i class="fal fa-plus-circle"></i></div>
					</div> 
				</li>
				<li>
					<div class="serviceKind">
						<div class="name">新品上市</div>
					</div>
					<div class="checkCircle checked">
						<div class="icon"><i class="fas fa-check-circle"></i></div>
						<div class="bg"><i class="fal fa-plus-circle"></i></div>
					</div>
				</li>
			</ul>
		</div>
	</div>

	<!--              modal               -->

	<div class="modal fade" id="outlinkModal" tabindex="-1" role="dialog" aria-hidden="true">
		<div class="modal-dialog modal-dialog-centered modal-sm" role="document">
			<div class="modal-content">
				<div class="modal-header justify-content-center">
					<h5 class="modal-title text-secondary">請選擇欲前往的連結</h5>
				</div>
				<div class="modal-body px-0 py-2 text-center">
					<button type="button" class="btn btn-link m-auto" data-toggle="modal" data-target="#confirmModal" data-dismiss="modal"><h5>周年慶集點活動</h5></button>
					<hr class="my-2">
					<button type="button" class="btn btn-link m-auto"><h5>出示名片八折優惠</h5></button>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-link" data-dismiss="modal"><h5>取消</h5></button>
				</div>
			</div>
		</div>
	</div>

	<div class="modal fade" id="confirmModal" tabindex="-1" role="dialog" aria-hidden="true">
		<div class="modal-dialog modal-dialog-centered modal-sm" role="document">
			<div class="modal-content">
				<div class="modal-header justify-content-center border-0">
					<h5 class="modal-title text-secondary">提示</h5>
				</div>
				<div class="modal-body pt-0 text-center">
					<h5 class="mb-3 text-secondary">即將開啟外部連結，<br>是否確定前往?</h5>
				</div>
				<div class="modal-footer">
					<div class="btn-group w-100 m-0" role="group" aria-label="Button group with nested dropdown">
						<button type="button" class="btn btn-link py-3" data-dismiss="modal"><h5>取消</h5></button>
						<button type="button" class="btn btn-link py-3" data-toggle="modal" data-target="#promptModal"><h5>確定</h5></button>
					</div>
				</div>
			</div>
		</div>
	</div>

	<div class="modal fade" id="promptModal" tabindex="-1" role="dialog" aria-hidden="true">
		<div class="modal-dialog modal-dialog-centered modal-sm" role="document">
			<div class="modal-content">
				<div class="modal-header justify-content-center border-0">
					<h5 class="modal-title text-secondary">提示</h5>
				</div>
				<div class="modal-body pt-0 text-center">
					<h5 class="mb-3 text-secondary">本連結需使用到您的個人資料，<br>請先輸入會員密碼。</h5>
					<input class="form-control form-control-sm" type="text" placeholder="">
				</div>
				<div class="modal-footer">
					<div class="btn-group w-100 m-0" role="group" aria-label="Button group with nested dropdown">
						<button type="button" class="btn btn-link py-3" data-dismiss="modal"><h5>取消</h5></button>
						<button type="button" class="btn btn-link py-3"><h5>確定</h5></button>
					</div>
				</div>
			</div>
		</div>
	</div>

	<script>		
		$(document).ready(function() {
			$('#outlinkModal').modal();

			$('.mode1Btn').on('click',function(){
				$('.mode2Btn').removeClass('active');
				$('.mode1Btn').addClass('active');
				$('.content').removeClass('mode2').addClass('mode1');
			});
			
			$('.mode2Btn').on('click',function(){
				$('.mode1Btn').removeClass('active');
				$('.mode2Btn').addClass('active');
				$('.content').removeClass('mode1').addClass('mode2');
			});

			$('.menuSlide .btn').on('click',function(){
				$('.menuSlide .btn').removeClass('active');
				$(this).addClass('active');
			});

			$('.filterBtn').on('click',function(){
				sidebarShow('#sidebar',true);
				$('#maskCover').fadeIn(200);
			});
			
			$('#maskCover').on('click',function(){
				sidebarShow('#sidebar',false);
				sidebarShow('.sidebarPage',false);
				$('#maskCover').fadeOut(200);
			});

			$('.sidebarPage .empty').on('click',function(){
				sidebarShow('.sidebarPage',false);
			});	

			$('.checkCircle').on('click',function(){
				$(this).toggleClass('checked');
			});			

			$('#maskCover').fadeOut(0);
		});

		function sidebarShow(str,boo){				
			if(boo){				
				$(str).addClass('show');
			}else{				
				$(str).removeClass('show');
			}
		}

		function allCheck(str){
			let root = $('.sidebarPage.' + str);
			root.find('.checkCircle').removeClass('checked');
		}

		function allCheckClear(str){
			let root = $('.sidebarPage.' + str);
			root.find('.checkCircle').addClass('checked');
		}

		function getMultipleBrand () { //取得多品牌資料
			$.ajax({
				url: 'http://localhost:3034/mmrmProd/multiple_brand',
				method: 'post',
				data: {},
				success(res) {
					let isMultiple = res.multiple_brand === '1';
					let method = isMultiple ? 'removeClass' : 'addClass';
					$('.chooseBrand')[method]('multiple');
					$('.content')[method]('multiple');
				}
			})
		}

		getMultipleBrand();
	</script>
</body>

</html>